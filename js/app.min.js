!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){i(1),i(2),i(3),i(4),i(5),i(6)},function(e,t){window.filter={country:{label:"Country",options:[{id:0,text:"All"},{id:1,text:"Australia"},{id:2,text:"Germany"},{id:3,text:"United Kingdom"},{id:4,text:"United States"}]},gender:{label:"Gender",options:[{id:0,text:"All"},{id:1,text:"male"},{id:2,text:"female"}]},age:{label:"Age",options:[{id:0,text:"All"},{id:1,text:"18 - 24"},{id:2,text:"25 - 34"},{id:3,text:"35 - 44"},{id:4,text:"45 - 54"},{id:5,text:"55 - 64"},{id:6,text:"65 and over"}]},companySize:{label:"Company size (employees)",options:[{id:0,text:"All"},{id:2,text:"2 - 9"},{id:3,text:"10 - 49"},{id:4,text:"50 - 249"},{id:5,text:"More than 249"}]},language:{label:"Primary programming language",options:[{id:0,text:"All"},{id:1,text:"JavaScript"},{id:2,text:"Java"},{id:3,text:"Python"},{id:6,text:"C#"},{id:7,text:"Other"}]}}},function(e,t){window.questions=[{id:1,type:"single",selectText:"Are you familiar with this definition of the Jamstack?",text:"Are you familiar with this definition of the Jamstack?",description:'Jamstack is a modern web development architecture based on pre-generated HTML markup where dynamic and interactive functionalities are handled by JavaScript, and server-side operations are abstracted into reusable APIs. "JAM" == "JavaScript, APIs, Markup"',answers:[{id:1,text:"Definitely yes",color:"dark-orange"},{id:2,text:"Rather yes",color:"light-orange"},{id:3,text:"Neither yes nor no",color:"yellow"},{id:4,text:"Rather no",color:"light-grey"},{id:5,text:"Definitely no",color:"dark-grey"}]},{id:2,type:"single",selectText:"How long have you been working with the Jamstack?",text:"How long have you been working with the Jamstack?",answers:[{id:1,text:"Never",color:"grey-1"},{id:2,text:"Less than a year",color:"orange-4"},{id:3,text:"1 year",color:"orange-3"},{id:4,text:"2 years",color:"orange-2"},{id:5,text:"3+ years",color:"orange-1"}]},{id:3,type:"order",selectText:"What are the reasons for choosing the Jamstack to build an app with?",text:"What are the reasons for choosing the Jamstack to build an app with?",description:"From the most likely reason at the top to the least likely reason at the bottom of the list.",answers:[{id:1,text:"Security",csvText:"Security"},{id:2,text:"Performance",csvText:"Performance"},{id:3,text:"Productivity",csvText:"Productivity"},{id:4,text:"Scalability",csvText:"Scalability"},{id:5,text:"Cost-effectiveness",csvText:"Cost-effectiveness"},{id:6,text:"Reliability/stability",csvText:"Reliability/stability"},{id:7,text:"Editor experience",csvText:"Editor experience in combination with a headless CMS"}]},{id:4,type:"lines",selectText:"Think of the most complex project you&#x2019;ve built with the Jamstack. Try to describe its complexity.",text:"Think of the most complex project you&#x2019;ve built with the Jamstack. Try to describe its complexity.",description:"Choose one item in each of the five lines.",answers:[{id:1,text:"Unique users served",options:[{id:1,text:"10s",color:"orange-11"},{id:2,text:"100s",color:"orange-12"},{id:3,text:"1,000s",color:"orange-13"},{id:4,text:"100,000s",color:"orange-14"},{id:5,text:"1,000,000s",color:"orange-15"}]},{id:2,text:"Channels served",options:[{id:1,text:"1",note:"e.g., web",color:"orange-11"},{id:2,text:"2 - 3",note:"e.g., web + mobile + social media",color:"orange-12"},{id:3,text:"> 3",note:"e.g., web, mob, social, chatbot, IoT, AR/VR, digital signage",color:"orange-13"}]},{id:3,text:"Services involved (integrations / microservices / serverless functions)",options:[{id:1,text:"0",color:"orange-11"},{id:2,text:"1",color:"orange-12"},{id:3,text:"2 to 5",color:"orange-13"},{id:4,text:"> 5",color:"orange-14"},{id:5,text:"> 10",color:"orange-15"}]},{id:4,text:"Engineers involved",options:[{id:1,text:"1",color:"orange-11"},{id:2,text:"1 to 4",color:"orange-12"},{id:3,text:"5 to 10",color:"orange-13"},{id:4,text:"> 10",color:"orange-14"},{id:5,text:"> 20",color:"orange-15"}]},{id:5,text:"Level of dynamicity",options:[{id:1,text:"None",note:"e.g., a blog or a landing page",color:"orange-11"},{id:2,text:"Up to 5%",note:"e.g., a microsite",color:"orange-12"},{id:3,text:"Up to 10%",note:"e.g., a corporate website",color:"orange-13"},{id:4,text:"Up to 25%",note:"e.g., an e-shop",color:"orange-14"},{id:5,text:"More than 25%",note:"e.g., a personalized website/portal",color:"orange-15"}]}]},{id:5,type:"multiple",selectText:"Select the technologies you’ve used in a Jamstack project.",text:"Select the technologies you’ve used in a Jamstack project.",answers:[{id:1,text:"AMP",color:"orange"},{id:2,text:"PWA",color:"orange"},{id:3,text:"Serverless functions",color:"orange"},{id:4,text:"GraphQL",color:"orange"},{id:5,text:"gRPC",color:"orange"},{id:6,text:"Websockets",color:"orange"},{id:7,text:"Webhooks",color:"orange"},{id:8,text:"Containers",color:"orange"},{id:9,text:"Identity provider",color:"orange"},{id:10,text:"None of them",color:"dark-grey"}]},{id:6,type:"multiple",selectText:"Where do the biggest challenges in adopting the Jamstack architecture lie?",text:"Where do the biggest challenges in adopting the Jamstack architecture lie?",description:"Categorized spontaneous responses, more than one answer possible.",answers:[{id:1,text:"Training (of employees), know-how, understanding",color:"dark-grey"},{id:2,text:"Nothing, it is good"},{id:3,text:"Integrate in company",color:"dark-grey"},{id:4,text:"Compatibility with other systems",color:"dark-grey"},{id:5,text:"Data secure, security",color:"dark-grey"},{id:6,text:"Price",color:"dark-grey"},{id:7,text:"Easy to use, comfortable",color:"dark-grey"},{id:8,text:"Upgrades",color:"dark-grey"},{id:9,text:"Programming skills",color:"dark-grey"},{id:10,text:"Reliability",color:"dark-grey"},{id:11,text:"Performance",color:"dark-grey"},{id:12,text:"JavaScript",color:"dark-grey"},{id:13,text:"Problems with functions",color:"dark-grey"},{id:14,text:"Time",color:"dark-grey"},{id:15,text:"Speed",color:"dark-grey"},{id:16,text:"APIs",color:"dark-grey"},{id:17,text:"Many challenges",color:"dark-grey"},{id:18,text:"Markup",color:"dark-grey"},{id:19,text:"Other answer (<1%)",color:"dark-grey"},{id:20,text:"Do not know/no answer",color:"light-grey"}]},{id:7,type:"multiple",selectText:"Which static site generators do you like to develop with?",text:"Which static site generators do you like to develop with?",description:"Up to three answers.",answers:[{id:1,text:"Gatsby"},{id:2,text:"Gridsome"},{id:3,text:"Nuxt"},{id:4,text:"Next"},{id:5,text:"Hugo"},{id:6,text:"Jekyll"},{id:7,text:"Hexo"},{id:8,text:"VuePress"},{id:9,text:"Sapper"},{id:10,text:"Eleventy"},{id:11,text:"React Static"},{id:12,text:"Other"}]},{id:8,type:"multiple",selectText:"Where do you prefer to keep your content?",text:"Where do you prefer to keep your content?",description:"Up to three answers.",answers:[{id:1,text:"Strapi"},{id:2,text:"DatoCMS"},{id:3,text:"Netlify CMS"},{id:4,text:"Kentico Kontent"},{id:5,text:"Sanity"},{id:6,text:"Butter CMS"},{id:7,text:"Contentful"},{id:8,text:"Contentstack"},{id:9,text:"Prismic"},{id:10,text:"Graph CMS"},{id:11,text:"Cosmic JS"},{id:12,text:"Google Docs"},{id:13,text:"Static files"},{id:14,text:"Other"}]},{id:9,type:"multiple",selectText:"Where do you typically deploy and host your projects?",text:"Where do you typically deploy and host your projects?",description:"Up to three answers.",answers:[{id:1,text:"Heroku"},{id:2,text:"Netlify"},{id:3,text:"Surge"},{id:4,text:"Akamai"},{id:5,text:"AWS"},{id:6,text:"MS Azure"},{id:7,text:"GitHub Pages"},{id:8,text:"Zeit"},{id:9,text:"Own infrastructure"},{id:10,text:"Other"}]},{id:10,type:"multiple",selectText:"What do you love about today’s Jamstack tooling?",text:"What do you love about today’s Jamstack tooling?",description:"Think about the tools you’ve worked with - Static Site Generators, Headless CMSs, and Deployment Providers. Consider things like developer experience, learning curve, productivity, reliability, collaboration features.",note:"Categorized spontaneous responses, more than one answer possible.",answers:[{id:1,text:"Easy to use, easy to work with"},{id:2,text:"Like it (in general)"},{id:3,text:"Wide range of tools, features"},{id:4,text:"Quick"},{id:5,text:"Nothing",color:"dark-grey"},{id:6,text:"Useful, needed"},{id:7,text:"Reliable"},{id:8,text:"Secure, safety"},{id:9,text:"Effective"},{id:10,text:"Innovative, modern"},{id:11,text:"Great, quality"},{id:12,text:"Flexible, universal"},{id:13,text:"Compatible with other systems"},{id:14,text:"Good performance"},{id:15,text:"Unique, different"},{id:16,text:"Effective price"},{id:17,text:"Other answer (<1%)"},{id:18,text:"Do not know/no answer",color:"light-grey"}]},{id:11,type:"multiple",selectText:"What do you hate about today’s Jamstack tooling?",text:"What do you hate about today’s Jamstack tooling?",description:"Think about the tools you’ve worked with - Static Site Generators, Headless CMSs, and Deployment Providers. Consider things like developer experience, learning curve, productivity, reliability, collaboration features.",note:"Categorized spontaneous responses, more than one answer possible.",answers:[{id:1,text:"Nothing"},{id:2,text:"Learn how it works",color:"dark-grey"},{id:3,text:"Complicated",color:"dark-grey"},{id:4,text:"Cost, expensive, not worthy",color:"dark-grey"},{id:5,text:"Slow, takes time",color:"dark-grey"},{id:6,text:"Not reliable, some errors",color:"dark-grey"},{id:7,text:"Integrating with other systems",color:"dark-grey"},{id:8,text:"Not flexible, unique, specific",color:"dark-grey"},{id:9,text:"Needs upgrades",color:"dark-grey"},{id:10,text:"All JAMstack",color:"dark-grey"},{id:11,text:"Security",color:"dark-grey"},{id:12,text:"Other answer (<1%)",color:"dark-grey"},{id:13,text:"Do not know/no answer",color:"light-grey"}]},{id:12,type:"single",selectText:"Are you interested in initiatives trying to unify the Jamstack space such as Stackbit, Sourcebit, or Uniform?",text:"Are you interested in initiatives trying to unify the Jamstack space such as Stackbit, Sourcebit, or Uniform?",answers:[{id:1,text:"Yes",color:"orange"},{id:2,text:"No",color:"dark-grey"}]},{id:13,type:"multiple",selectText:"What do you think could increase the Jamstack adoption? Name one thing.",text:"What do you think could increase the Jamstack adoption? Name one thing.",description:'Despite the instruction "name one thing", some respondents gave a more comprehensive answer to this question and shared several ideas. Thus the sum of the percentages of all answers in the graph is not 100 %.',answers:[{id:1,text:"Popularity, marketing"},{id:2,text:"Teaching of its use, training"},{id:3,text:"Cooperating with other systems"},{id:4,text:"Lower cost"},{id:5,text:"Simply to use"},{id:6,text:"Trust, reliable, stability"},{id:7,text:"Upgrades, improves"},{id:8,text:"Speed"},{id:9,text:"Flexibility"},{id:10,text:"Safety, secure"},{id:11,text:"Performance, productivity"},{id:12,text:"Change a technical issues"},{id:13,text:"Other answer (<1%) "},{id:14,text:"Nothing/it is good",color:"dark-grey"},{id:15,text:"Do not know/no answer",color:"light-grey"}]},{id:14,type:"single",selectText:"What is your favorite flavor of jam?",text:"What is your favorite flavor of jam?",answers:[{id:1,text:"Apricot"},{id:2,text:"Blackberry"},{id:3,text:"Raspberry"},{id:4,text:"Strawberry"},{id:5,text:"Orange"},{id:6,text:"Fig"}]}]},function(e,t){(()=>{const e=e=>{return{country:parseInt(e.country_id),gender:parseInt(e.gender_id),age:parseInt(e.age_id),companySize:parseInt(e.company_size_id),language:(t=e.primary_programming_language_id,i=e.primary_programming_language_name,"Other"===i&&(t=7),parseInt(t))};var t,i},t=(e,t)=>({id:e,answer:parseInt(t)}),i=(e,t,i,n)=>{const r={};r.id=e,r.answer=[];for(let e=1;e<=n;e++){const n=window.questions[2].answers.filter(n=>n.csvText===t[`${i}${e}`]);r.answer.push({text:n.length&&n[0].text})}return r},n=(e,t,i,n)=>{const r={};r.id=e,r.answer=[];for(let e=1;e<=n;e++)r.answer.push({id:e,option:parseInt(t[`${i}${e}`])});return r},r=(e,t,i,n)=>{const r={};r.id=e,r.answer=[];for(let e=1;e<=n;e++)"1"===t[`${i}${e}`]&&r.answer.push(e);return r},s=(e,t,i,n)=>{const r={};r.id=e,r.answer=[];for(let e=1;e<=n;e++)t[`${i}${e}`]&&r.answer.push(parseInt(t[`${i}${e}`]));return r};Papa.parse("./data/data.csv",{download:!0,delimiter:",",header:!0,complete:o=>{window.answers=(o=>{const a=o.data,l=[];for(let o=0;o<a.length;o++){const d={};d.id=parseInt(a[o].id_new),d.filter=e(a[o]),d.answers=[],d.answers.push(t(1,a[o].q1_answer_id)),d.answers.push(t(2,a[o].q2_answer_id)),d.answers.push(i(3,a[o],"q3_answer_label_",7)),d.answers.push(n(4,a[o],"q4_answer_id_",5)),d.answers.push(r(5,a[o],"q5_answer_id_",10)),d.answers.push(s(6,a[o],"q6_answer_id_",4)),d.answers.push(r(7,a[o],"q7_answer_id_",12)),d.answers.push(r(8,a[o],"q8_answer_id_",14)),d.answers.push(r(9,a[o],"q9_answer_id_",10)),d.answers.push(s(10,a[o],"q10_answer_id_",4)),d.answers.push(s(11,a[o],"q11_answer_id_",2)),d.answers.push(t(12,a[o].q12_answer_id)),d.answers.push(s(13,a[o],"q13_answer_id_",4)),d.answers.push(t(14,a[o].q14_answer_id)),l.push(d)}return l})(o);const a=new Event("answersAvailable");window.dispatchEvent(a)}})})()},function(e,t){Object.defineProperty(Selectr.prototype,"mobileDevice",{get:()=>!1,set(){},enumerable:!0,configurable:!0}),(()=>{const e=document.querySelector(".filter");if(!window.filter&&!e)return;const t=new Event("filterUpdated"),i=new Event("stateAnswersUpdated"),n=[],r=e=>{const t=window.filter[e];return`<div class="filter__item">\n                    <label for="${e}" class="filter__label">${t.label}</label>\n                    <select id="${e}" class="filter__select">\n                        ${t.options.map(e=>`<option value="${e.id}">${e.text}</option>`).join("")}\n                    </select>\n                </div>`},s=()=>{const t={},i=e.querySelectorAll("select[id]");for(let e=0;e<i.length;e++)t[i[e].id]=parseInt(i[e].value);return t};(()=>{let t="";t+='<h2 class="filter__heading">Filter respondents</h2>',t+=r("country"),t+=r("gender"),t+=r("age"),t+=r("companySize"),t+=r("language"),t+='<div class="filter__item">\n                    <a href="#" id="resetFilter" class="filter__reset">Reset all filters</a>\n                </div>',e.innerHTML=t;const i=e.querySelectorAll("select[id]");if(Selectr)for(let e=0;e<i.length;e++)n.push(new Selectr(i[e],{searchable:!1}))})(),window.addEventListener("answersAvailable",()=>{window.stateAnswers=window.answers,window.stateFilter=s(),window.dispatchEvent(i)}),window.addEventListener("change",e=>{e.target&&e.target.matches(".filter select[id]")&&(window.stateFilter=s(),window.dispatchEvent(t))}),e.querySelector("#resetFilter").addEventListener("click",e=>{e.preventDefault(),(()=>{for(let e=0;e<n.length;e++)n[e].setValue(0)})(),window.stateFilter=s(),window.dispatchEvent(t)}),window.addEventListener("filterUpdated",()=>{window.answers&&window.stateFilter&&(window.stateAnswers=(()=>{const e=[];for(let i=0;i<window.answers.length;i++){const n=window.answers[i].filter;let r=!0;for(var t in window.stateFilter)Object.prototype.hasOwnProperty.call(window.stateFilter,t)&&window.stateFilter[t]!==n[t]&&0!==window.stateFilter[t]&&(r=!1);r&&e.push(window.answers[i])}return e})(),window.dispatchEvent(i))})})()},function(e,t){(()=>{const e=document.querySelector(".steps");if(!window.questions&&!e)return;const t=new Event("stepUpdated"),i=new Event("change",{bubbles:!0});let n;const r=()=>{const t=e.querySelector(".steps select[id]");return{active:parseInt(t.value)}};(()=>{let t="";t+='<h2 class="steps__heading">Select question</h2>',t+=`<div class="steps__item">\n                    <label class="steps__label" for="selectQuestion">Select question</label>\n                    <select class="steps__select" id="selectQuestion">\n                        ${window.questions.map(e=>`<option value="${e.id}">${e.id} &ndash; ${e.selectText}</option>`).join("")}\n                    </select>\n                </div>`,t+='<div class="steps__links">\n                    <a href="#" class="steps__link steps__link--prev" id="prevQuestion">Previous</a>\n                    <a href="#" class="steps__link steps__link--next" id="nextQuestion">Next</a>\n                </div>',e.innerHTML=t;const i=e.querySelector(".steps select[id]");n=new Selectr(i,{searchable:!1,customClass:"select-question"}),n.on("selectr.open",()=>{const e=document.querySelector(".select-question");setTimeout(()=>{const t=e.querySelector(".selectr-option.selected");((e,t)=>{const i=e.getBoundingClientRect(),n=e.clientHeight,r=(e.clientWidth,t.getBoundingClientRect());r.bottom>=i.top&&r.bottom<=i.top+n||(e.scrollTop=r.top+e.scrollTop-i.top)})(e.querySelector(".selectr-options"),t)},0)})})(),window.stateSteps=r(),window.addEventListener("change",e=>{e.target&&e.target.matches(".steps select[id]")&&(window.stateSteps=r(),window.dispatchEvent(t))}),window.addEventListener("click",t=>{if(t.target&&(t.target.matches("#prevQuestion")||t.target.matches("#nextQuestion"))){t.preventDefault();let r=1;t.target.matches("#prevQuestion")&&(r=-1);const s=e.querySelector(".steps select[id]");let o=parseInt(s.value)+r;o<1?o=window.questions.length:o>window.questions.length&&(o=1),n.setValue(o),s.dispatchEvent(i)}})})()},function(e,t,i){i(7),i(8),i(9),(()=>{const e=e=>{let t=(()=>{let e=window.questions.filter(e=>window.stateSteps.active===e.id);return e.length?`\n            <div class="chart__question">\n                <h2 class="chart__heading"><span class="chart__heading-num">${e[0].id}</span>${e[0].text}</h2>\n                ${e[0].description?`<p class="chart__description">${e[0].description}</p>`:""}\n                ${e[0].note?`<p class="chart__note">${e[0].note}</p>`:""}\n                ${e[0].subnote?`<p class="chart__subnote">${e[0].subnote}</p>`:""}\n                <p class="chart__n">N = ${window.stateSteps.n} developers${window.stateSteps.justJamstack?" who work with the Jamstack":""}</p>\n                ${e[0].img?`<img class="chart__img" src="${e[0].img}" />`:""}\n            </div>\n        `:""})();switch(window.stateSteps.active){case 1:case 2:t+=window.getHtmlLine(e);break;case 3:t+=window.getHtmlBar(e);break;case 4:t+=window.getHtmlLine(e,!0);break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:t+=window.getHtmlBar(e)}switch(document.querySelector(".chart").innerHTML=t,window.stateSteps.active){case 1:case 2:window.initLine(document.querySelector(".line--large")),window.initLine(document.querySelector(".line--lines"));break;case 3:window.initBar(document.querySelector(".bar"));break;case 4:window.initLine(document.querySelector(".line--lines"));break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:window.initBar(document.querySelector(".bar"))}},t=()=>{if(!window.stateSteps||!window.stateAnswers)return;const t=(()=>{let e;switch(window.stateSteps.active){case 1:case 2:e=window.getByAgeState();break;case 3:e=window.getByOrderState();break;case 4:e=window.getByOptionsState();break;case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:e=window.getByMultipleState();break;case 12:case 14:e=window.getBySingleState()}return e})();e(t)};["stepUpdated","stateAnswersUpdated"].forEach(e=>{window.addEventListener(e,t,!1)})})()},function(e,t){window.getBySingleState=()=>{const e=window.questions.filter(e=>e.id===window.stateSteps.active)[0].answers;let t;e.map(e=>(e.value=0,e.percentage=0,e)),14===window.stateSteps.active?(t=window.stateAnswers,window.stateSteps.justJamstack=!1):(t=window.stateAnswers.filter(e=>1!==e.answers[1].answer),window.stateSteps.justJamstack=!0),window.stateSteps.n=t.length;for(let i=0;i<t.length;i++){const n=t[i].answers.filter(e=>e.id===window.stateSteps.active)[0].answer;for(let t=0;t<e.length;t++)e[t].id===n&&(e[t].value+=1)}for(let i=0;i<e.length;i++)e[i].percentage=Math.round(e[i].value/t.length*100);return e.sort((e,t)=>t.percentage-e.percentage),e},window.getByMultipleState=()=>{const e=window.questions.filter(e=>e.id===window.stateSteps.active)[0].answers;let t;e.map(e=>(e.value=0,e.percentage=0,e)),13===window.stateSteps.active?(t=window.stateAnswers,window.stateSteps.justJamstack=!1):(t=window.stateAnswers.filter(e=>1!==e.answers[1].answer),window.stateSteps.justJamstack=!0),window.stateSteps.n=t.length;for(let i=0;i<t.length;i++){const n=t[i].answers.filter(e=>e.id===window.stateSteps.active)[0].answer;for(let t=0;t<n.length;t++)for(let i=0;i<e.length;i++)e[i].id===n[t]&&(e[i].value+=1)}for(let i=0;i<e.length;i++)e[i].percentage=Math.round(e[i].value/t.length*100);e.sort((e,t)=>t.percentage-e.percentage);const i=(e,t)=>(e.map((i,n)=>{i.id===t&&(e.splice(n,1),e.push(i))}),e);return 13===window.stateSteps.active&&(i(e,13),i(e,14),i(e,15)),6===window.stateSteps.active&&(i(e,20),i(e,19)),10===window.stateSteps.active&&(i(e,18),i(e,17)),11===window.stateSteps.active&&(i(e,13),i(e,12)),e},window.getByOptionsState=()=>{let e=window.questions.filter(e=>e.id===window.stateSteps.active)[0].answers;for(let t=0;t<e.length;t++)e[t].options.map(e=>(e.value=0,e.percentage=0,e));const t=window.stateAnswers.filter(e=>1!==e.answers[1].answer);window.stateSteps.justJamstack=!0,window.stateSteps.n=t.length;for(let i=0;i<t.length;i++){const n=t[i].answers.filter(e=>e.id===window.stateSteps.active)[0].answer;for(let t=0;t<n.length;t++)for(let i=0;i<e.length;i++)if(e[i].id===n[t].id)for(let r=0;r<e[i].options.length;r++)e[i].options[r].id===n[t].option&&(e[i].options[r].value+=1)}for(let t=0;t<e.length;t++){e[t].answersNum=0;for(let i=0;i<e[t].options.length;i++)e[t].answersNum+=e[t].options[i].value;for(let i=0;i<e[t].options.length;i++)e[t].options[i].percentage=Math.round(e[t].options[i].value/e[t].answersNum*100)}return e},window.getByOrderState=()=>{const e=window.questions.filter(e=>e.id===window.stateSteps.active)[0].answers.map(e=>(e.percentage=0,e)),t=window.stateAnswers.filter(e=>1!==e.answers[1].answer);window.stateSteps.justJamstack=!0,window.stateSteps.n=t.length;for(let i=0;i<e.length;i++){const n=[0,0,0];for(let r=0;r<t.length;r++)for(let s=0;s<n.length;s++)t[r].answers.filter(e=>e.id===window.stateSteps.active)[0].answer[s].text===e[i].text&&(n[s]+=1);for(let r=0;r<n.length;r++)e[i].percentage+=n[r]/t.length*100;e[i].percentage=Math.round(e[i].percentage)}return e.sort((e,t)=>t.percentage-e.percentage),e},window.getByAgeState=()=>{let e=[],t=window.filter.age.options.length,i=window.questions.filter(e=>e.id===window.stateSteps.active)[0].answers.map(e=>(e.value=0,e.percentage=0,e));window.stateSteps.justJamstack=!1,window.stateSteps.n=window.stateAnswers.length,2===window.stateSteps.active&&i.reverse(),0!==window.stateFilter.age&&(t=1);for(let n=0;n<t;n++)e.push({age:window.filter.age.options[n],answers:JSON.parse(JSON.stringify(i)),answersNum:0});for(let t=0;t<window.stateAnswers.length;t++)e.map(e=>(e.age.id!==window.stateAnswers[t].filter.age&&0!==e.age.id||e.answers.map(e=>(e.id===window.stateAnswers[t].answers.filter(e=>e.id===window.stateSteps.active)[0].answer&&(e.value=e.value+1),e)),e));for(let t=0;t<e.length;t++){let i=0,n=0;for(let n=0;n<e[t].answers.length;n++)i+=e[t].answers[n].value;e[t].answersNum=i;for(let r=0;r<e[t].answers.length;r++)e[t].answers[r].percentage=Math.round(e[t].answers[r].value/i*100),n+=e[t].answers[r].percentage}return console.log(e),e}},function(e,t){window.initLine=(()=>{const e=(e,t)=>{const i=e.querySelectorAll(".line__chart");let n=0;for(let e=0;e<i.length;e++)n+=parseInt(i[e].getAttribute("data-value"));const r=100-n;setTimeout(()=>{for(let e=0;e<i.length;e++){let t=parseInt(i[e].getAttribute("data-value"));e===i.length-1&&(t+=r),i[e].style.width=t+"%",i[e].classList.add("line__chart--rendered")}},200*t)};return t=>{if(!t)return;const i=t.querySelectorAll(".line__line--chart");for(let t=0;t<i.length;t++)e(i[t],t);(()=>{const e=document.querySelectorAll(".line__column--chart [data-legend]");for(let t=0;t<e.length;t++){const i=e[t].clientHeight,n=e[t].getAttribute("data-legend"),r=document.querySelector(`.line__column--title [data-legend="${n}"]`);r&&(r.style.height=i+"px")}})()}})(),window.getHtmlLine=(e,t)=>{let i="";return t||(i+=`\n        <div class="line line--large">\n            <div class="line__column line__column--chart">\n                <div class="line__line line__line--chart">\n                    ${e[0].answers.map(e=>{let t="";return e.percentage>0&&(t=`\n                                <div class="line__chart line__chart--${e.color}" data-value="${e.percentage}">\n                                    <span class="line__chart-title">${e.text}</span>\n                                </div>\n                            `),t}).join("")}\n                </div>\n            </div>\n        </div>\n      `),e.length>1&&(e[0].age&&"All"===e[0].age.text&&e.shift(),console.log(e),i+=`\n            <div class="line line--lines">\n                <div class="line__column line__column--title${t?" line__column--sizing":""}">\n                    ${e.map(e=>{const t=e.age?e.age.text:e.text;return`${e.text?`<div class="line__line line__line--legend" data-legend="${e.id}"></div>`:""}<div class="line__line line__line--title">${t}</div>`}).join("")}\n                </div>\n                <div class="line__column line__column--chart">\n                    ${e.map(e=>{const t=e.answers?e.answers:e.options;return`\n                            ${e.text?`<div class="line__line line__line--legend" data-legend="${e.id}">\n                              ${t.map(e=>`<div class="legend">\n                                              <div class="line__chart--${e.color} legend__color"></div>\n                                              <div class="legend__title">${e.text}</div>\n                                              ${e.note?`\n                                                <div class="legend__note">\n                                                  <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17 9A8 8 0 111 9a8 8 0 0116 0z" stroke="#231F20" stroke-width="2" stroke-linecap="round"/><path d="M8.082 13.264h1.822V8H8.082v5.264zm-.215-7.4c0-.624.467-1.128 1.127-1.128.66 0 1.139.504 1.139 1.128 0 .612-.479 1.115-1.139 1.115a1.1 1.1 0 01-1.127-1.115z" fill="#231F20"/></g></svg>\n                                                  <div class="legend__bubble">${e.note}</div>\n                                                </div>\n                                                `:""}\n                                            </div>`).join("")}\n                            </div>`:""}\n                            <div class="line__line line__line--chart">\n                                ${t.map(e=>{let t="";return e.percentage>0&&(t=`<div class="line__chart line__chart--${e.color}" data-value="${e.percentage}"></div>`),t}).join("")}\n                            </div>\n                        `}).join("")}\n                </div>\n                ${!0===t?"":`\n                  <div class="line__column line__column--num">\n                      ${e.map(e=>`<div class="line__line line__line--num">${e.answersNum}</div>`).join("")}\n                  </div>\n                `}\n            </div>\n        `),i}},function(e,t){window.initBar=(()=>{const e=(e,t,i)=>{const n=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);setTimeout(()=>{let i=t.getAttribute("data-value");n<768&&(i=((e,t)=>{const i=e.querySelectorAll(".bar__chart"),n=Array.from(i).map(e=>e.getAttribute("data-value"));return 100/Math.max.apply(Math,n)*t})(e,i)),t.style.width=i+"%"},200*i)};return t=>{if(!t)return;const i=t.querySelectorAll(".bar__chart");for(let n=0;n<i.length;n++)e(t,i[n],n);(e=>{const t=e.querySelectorAll(".bar__line--title"),i=e.querySelectorAll(".bar__line--chart");for(let e=0;e<t.length;e++){const n=t[e].offsetHeight;i[e].style.height=n+"px"}})(t)}})(),window.getHtmlBar=e=>`\n        <div class="bar">\n            <div class="bar__column bar__column--title">\n                ${e.map(e=>`<div class="bar__line bar__line--title">${e.text}</div>`).join("")}\n            </div>\n            <div class="bar__column bar__column--chart">\n                <div class="bar__grid">\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                    <div class="bar__grid-line"></div>\n                </div>\n                ${e.map(e=>`\n                        <div class="bar__line bar__line--chart">\n                            <div class="bar__chart bar__chart--${e.color}" data-value="${e.percentage}"></div>\n                        </div>\n                    `).join("")}\n            </div>\n        </div>\n    `}]);
//# sourceMappingURL=app.min.js.map